<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modèle de Scoring - Déploiement</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Prédiction de Risque</h1>
        <div class="form-wrapper">
            <!-- Formulaire pour une prédiction individuelle -->
            <div class="form-container">
                <h2>Prédiction individuelle</h2>
                <form action="/predict" method="post">
                    <label for="age">Âge :</label>
                    <input type="number" id="age" name="age" required>

                    <label for="sex">Sexe :</label>
                    <select id="sex" name="sex">
                        <option value="male">Homme</option>
                        <option value="female">Femme</option>
                    </select>

                    <label for="job">Métier :</label>
                    <select id="job" name="job">
                        <option value="0">Non qualifié (non-résident)</option>
                        <option value="1">Non qualifié (résident)</option>
                        <option value="2">Qualifié</option>
                        <option value="3">Hautement qualifié</option>
                    </select>

                    <label for="housing">Logement :</label>
                    <select id="housing" name="housing">
                        <option value="own">Propriétaire</option>
                        <option value="rent">Locataire</option>
                        <option value="free">Gratuit</option>
                    </select>

                    <label for="saving">Épargne :</label>
                    <select id="saving" name="saving">
                        <option value="little">Peu</option>
                        <option value="moderate">Modéré</option>
                        <option value="quite rich">Assez riche</option>
                        <option value="rich">Riche</option>
                    </select>
                    <label for="Checking">Courant :</label>
                    <select id="Checking" name="Checking">
                        <option value="little">Peu</option>
                        <option value="moderate">Modéré</option>
                        <option value="rich">Riche</option>
                    </select>

                    <label for="credit_amount">Montant du crédit (DM) :</label>
                    <input type="number" id="credit_amount" name="credit_amount" required>

                    <label for="duration">Durée (mois) :</label>
                    <input type="number" id="duration" name="duration" required>

                    <label for="purpose">But du crédit :</label>
                    <select id="purpose" name="purpose">
                        <option value="car">Voiture</option>
                        <option value="furniture/equipment">Meubles/Équipements</option>
                        <option value="radio/TV">Radio/TV</option>
                        <option value="domestic appliances">Électroménager</option>
                        <option value="repairs">Réparations</option>
                        <option value="education">Éducation</option>
                        <option value="business">Affaires</option>
                        <option value="vacation/others">Vacances/Autres</option>
                    </select>

                    <button type="submit">Prédire</button>
                </form>
            </div>

            <!-- Formulaire pour les prédictions en batch -->
            <div class="form-container">
                <h2>Prédictions en batch (CSV/Excel)</h2>
                <form action="/predict_batch" method="post" enctype="multipart/form-data">
                    <label for="file">Télécharger un fichier :</label>
                    <input type="file" name="file" id="file" accept=".csv, .xlsx" required>
                    <button type="submit">Faire les prédictions</button>
                </form>
            </div>
        </div>

        <!-- Afficher le résultat -->
        {% if prediction %}
            <div class="result">
                <h2>Résultat : {{ prediction }}</h2>
            </div>
        {% endif %}
    </div>
</body>
</html>
